void tau( double* tau_out, const double* parms, const double* q, const double* dq, const double* ddq )
{
  double x0 = sin(q[4]);
  double x1 = cos(q[4]);
  double x2 = cos(q[2]);
  double x3 = cos(q[1]);
  double x4 = dq[0]*x3;
  double x5 = sin(q[2]);
  double x6 = -x5;
  double x7 = dq[1]*x2 + x4*x6;
  double x8 = -x7;
  double x9 = dq[3] + x8;
  double x10 = -x9;
  double x11 = dq[1]*x5 + x2*x4;
  double x12 = cos(q[3]);
  double x13 = sin(q[1]);
  double x14 = -x13;
  double x15 = dq[0]*x14;
  double x16 = -x15;
  double x17 = dq[2] + x16;
  double x18 = sin(q[3]);
  double x19 = x11*x12 + x17*x18;
  double x20 = -x19;
  double x21 = x0*x20 + x1*x10;
  double x22 = -x21;
  double x23 = dq[5] + x22;
  double x24 = -((x23)*(x23));
  double x25 = -x11;
  double x26 = x12*x17 + x18*x25;
  double x27 = dq[4] + x26;
  double x28 = sin(q[5]);
  double x29 = x0*x10 + x1*x19;
  double x30 = cos(q[5]);
  double x31 = x27*x28 + x29*x30;
  double x32 = -((x31)*(x31));
  double x33 = x11*x17;
  double x34 = dq[1]*x15;
  double x35 = ddq[0]*x3 + x34;
  double x36 = ddq[1]*x2 + dq[2]*x25 - x35*x5;
  double x37 = -x36;
  double x38 = -9.81*x13;
  double x39 = -x38;
  double x40 = -0.32*((dq[1])*(dq[1])) + x39 - 0.32*((x4)*(x4));
  double x41 = 0.077*x33 + 0.077*x37 + x40;
  double x42 = -((x17)*(x17));
  double x43 = x42 - ((x7)*(x7));
  double x44 = 9.81*x3;
  double x45 = 0.32*ddq[1] - 0.32*x15*x4 + x44;
  double x46 = -0.32*x34 - 0.32*x35;
  double x47 = x2*x45 + x46*x5;
  double x48 = 0.077*x43 + x47;
  double x49 = -x18;
  double x50 = x12*x41 + x48*x49;
  double x51 = -((x19)*(x19));
  double x52 = -((x9)*(x9));
  double x53 = x51 + x52;
  double x54 = x50 - 0.26*x53;
  double x55 = x12*x48 + x18*x41;
  double x56 = x19*x26;
  double x57 = ddq[3] + x37;
  double x58 = -x57;
  double x59 = x56 + x58;
  double x60 = x55 - 0.26*x59;
  double x61 = -ddq[0]*x13 - dq[1]*x4;
  double x62 = ddq[2] - x61;
  double x63 = x11*x7;
  double x64 = x62 + x63;
  double x65 = x2*x46 + x45*x6;
  double x66 = -x65;
  double x67 = -0.077*x64 + x66;
  double x68 = ddq[1]*x5 + dq[2]*x7 + x2*x35;
  double x69 = dq[3]*x26 + x12*x68 + x18*x62;
  double x70 = x26*x9;
  double x71 = x69 + x70;
  double x72 = x67 - 0.26*x71;
  double x73 = -x0;
  double x74 = x1*x60 + x72*x73;
  double x75 = -x74;
  double x76 = x28*x75 + x30*x54;
  double x77 = -x29;
  double x78 = x27*x30 + x28*x77;
  double x79 = x31*x78;
  double x80 = -x69;
  double x81 = dq[4]*x77 + x0*x80 + x1*x58;
  double x82 = -x81;
  double x83 = ddq[5] + x82;
  double x84 = -x68;
  double x85 = dq[3]*x20 + x12*x62 + x18*x84;
  double x86 = ddq[4] + x85;
  double x87 = dq[4]*x21 + x0*x58 + x1*x69;
  double x88 = dq[5]*x78 + x28*x86 + x30*x87;
  double x89 = x23*x78;
  double x90 = parms[76]*(x79 + x83) + parms[77]*(x24 + x32) + parms[78]*(-x88 + x89) + parms[79]*x76;
  double x91 = -x28;
  double x92 = -((x21)*(x21));
  double x93 = -((x27)*(x27));
  double x94 = x27*x29;
  double x95 = x21*x29;
  double x96 = x28*x54 + x30*x74;
  double x97 = -((x78)*(x78));
  double x98 = x23*x31;
  double x99 = -x31;
  double x100 = -x87;
  double x101 = dq[5]*x99 + x100*x28 + x30*x86;
  double x102 = parms[76]*(x24 + x97) + parms[77]*(x79 - x83) + parms[78]*(x101 + x98) + parms[79]*x96;
  double x103 = parms[62]*(x92 + x93) + parms[63]*(-x86 + x95) + parms[64]*(x81 + x94) + parms[65]*x74 + x102*x30 + x90*x91;
  double x104 = -x1;
  double x105 = x104*x72 + x60*x73;
  double x106 = x21*x27;
  double x107 = -((x29)*(x29));
  double x108 = -x105;
  double x109 = parms[62]*(x86 + x95) + parms[63]*(x107 + x93) + parms[64]*(x100 + x106) + parms[65]*x105 - parms[76]*(-x101 + x98) - parms[77]*(x88 + x89) - parms[78]*(x32 + x97) - parms[79]*x108;
  double x110 = parms[58]*x29 + parms[60]*x21 + parms[61]*x27;
  double x111 = parms[56]*x29 + parms[57]*x21 + parms[58]*x27;
  double x112 = parms[70]*x31 + parms[71]*x78 + parms[72]*x23;
  double x113 = parms[71]*x31 + parms[73]*x78 + parms[74]*x23;
  double x114 = parms[72]*x88 + parms[74]*x101 + parms[75]*x83 + parms[76]*x76 - parms[77]*x96 - x112*x78 + x113*x31;
  double x115 = parms[57]*x87 + parms[59]*x81 + parms[60]*x86 - parms[62]*x54 + parms[64]*x74 + x110*x77 + x111*x27 - x114;
  double x116 = parms[44]*x19 + parms[46]*x26 + parms[47]*x9;
  double x117 = parms[43]*x19 + parms[45]*x26 + parms[46]*x9;
  double x118 = parms[72]*x31 + parms[74]*x78 + parms[75]*x23;
  double x119 = parms[71]*x88 + parms[73]*x101 + parms[74]*x83 - parms[76]*x108 + parms[78]*x96 + x112*x23 + x118*x99;
  double x120 = parms[57]*x29 + parms[59]*x21 + parms[60]*x27;
  double x121 = parms[70]*x88 + parms[71]*x101 + parms[72]*x83 + parms[77]*x108 - parms[78]*x76 - x113*x23 + x118*x78;
  double x122 = parms[56]*x87 + parms[57]*x81 + parms[58]*x86 + parms[63]*x54 + parms[64]*x108 + x110*x21 + x119*x91 - x120*x27 + x121*x30;
  double x123 = parms[42]*x69 + parms[43]*x85 + parms[44]*x57 + parms[49]*x67 - parms[50]*x50 + 0.26*x0*x103 + 0.26*x1*x109 + x1*x122 + x10*x117 + x115*x73 + x116*x26;
  double x124 = x19*x9;
  double x125 = -((x26)*(x26));
  double x126 = parms[48]*(x124 - x85) + parms[49]*x71 + parms[50]*(x125 + x51) + parms[51]*x67 + x103*x73 + x104*x109;
  double x127 = parms[42]*x19 + parms[43]*x26 + parms[44]*x9;
  double x128 = parms[58]*x87 + parms[60]*x81 + parms[61]*x86 + parms[62]*x105 + parms[63]*x75 + x111*x22 + x119*x30 + x120*x29 + x121*x28;
  double x129 = parms[43]*x69 + parms[45]*x85 + parms[46]*x57 - parms[48]*x67 + parms[50]*x55 + x116*x20 + x127*x9 + x128;
  double x130 = parms[28]*x11 + parms[29]*x7 + parms[30]*x17;
  double x131 = parms[29]*x11 + parms[31]*x7 + parms[32]*x17;
  double x132 = parms[30]*x68 + parms[32]*x36 + parms[33]*x62 + parms[34]*x65 - parms[35]*x47 + x11*x131 + x12*x129 + x123*x18 - 0.077*x126 + x130*x8;
  double x133 = dq[1]*parms[19] + parms[16]*x4 + parms[18]*x15;
  double x134 = dq[1]*parms[16] + parms[14]*x4 + parms[15]*x15;
  double x135 = parms[30]*x11 + parms[32]*x7 + parms[33]*x17;
  double x136 = parms[28]*x68 + parms[29]*x36 + parms[30]*x62 + parms[35]*x40 + parms[36]*x66 + x12*x123 + x129*x49 - x131*x17 + x135*x7;
  double x137 = parms[48]*(x56 + x57) + parms[49]*x53 + parms[50]*(x70 + x80) + parms[51]*x50 + parms[62]*(x82 + x94) + parms[63]*(x106 + x87) + parms[64]*(x107 + x92) + parms[65]*x54 + x102*x28 + x30*x90;
  double x138 = x1*x103;
  double x139 = parms[48]*(x125 + x52) + parms[49]*x59 + parms[50]*(x124 + x85) + parms[51]*x55 + x109*x73 + x138;
  double x140 = parms[34]*x43 + parms[35]*(-x62 + x63) + parms[36]*(x33 + x36) + parms[37]*x47 + x12*x139 + x137*x49;
  double x141 = dq[1]*parms[18] + parms[15]*x4 + parms[17]*x15;
  double x142 = parms[44]*x69 + parms[46]*x85 + parms[47]*x57 + parms[48]*x50 - parms[49]*x55 - 0.26*x0*x109 + x104*x115 + x117*x19 + x122*x73 - x127*x26 + 0.26*x138;
  double x143 = parms[29]*x68 + parms[31]*x36 + parms[32]*x62 - parms[34]*x40 + parms[36]*x47 - 0.077*x12*x137 + x130*x17 + x135*x25 - 0.077*x139*x18 - x142;
  double x144 = parms[34]*x64 + parms[35]*(-((x11)*(x11)) + x42) + parms[36]*(x17*x7 + x84) + parms[37]*x65 - x126;
//
  tau_out[0] = ddq[0]*parms[10] + ddq[0]*parms[5] + dq[0]*parms[11] + parms[12]*sign(dq[0]) + parms[13] + x14*(ddq[1]*parms[18] + dq[1]*x134 + parms[15]*x35 + parms[17]*x61 + parms[22]*x44 - x132 - x133*x4) + x3*(ddq[1]*parms[16] - dq[1]*x141 + parms[14]*x35 + parms[15]*x61 + parms[22]*x39 + x133*x15 + x136*x2 - 0.32*x140*x5 + x143*x6 - 0.32*x144*x2);
  tau_out[1] = ddq[1]*parms[19] + ddq[1]*parms[24] + dq[1]*parms[25] + parms[16]*x35 + parms[18]*x61 + parms[20]*x38 - parms[21]*x44 + parms[26]*sign(dq[1]) + parms[27] + x134*x16 + x136*x5 + 0.32*x140*x2 + x141*x4 + x143*x2 - 0.32*x144*x5;
  tau_out[2] = ddq[2]*parms[38] + dq[2]*parms[39] + parms[40]*sign(dq[2]) + parms[41] + x132;
  tau_out[3] = ddq[3]*parms[52] + dq[3]*parms[53] + parms[54]*sign(dq[3]) + parms[55] + x142;
  tau_out[4] = ddq[4]*parms[66] + dq[4]*parms[67] + parms[68]*sign(dq[4]) + parms[69] + x128;
  tau_out[5] = ddq[5]*parms[80] + dq[5]*parms[81] + parms[82]*sign(dq[5]) + parms[83] + x114;
//
  return;
}